pipeline {
    agent any
     environment {
        GIT_REPO_URL = 'git_url'
        SSH_CRED_ID  = 'ccb-deploy-ssh'       // Jenkins'te oluÅŸturduÄŸun SSH anahtar ID'si
        REMOTE_HOST  = ''           // Uzak sunucu
        BASE_DIR     = '/appdata/ouaf/package/CM_EXTRACT'  // Ana dizin
    }
        stages {
        stage('Weblogic Restart') {
                    steps {
                        script {
                            echo "ðŸ”„ Weblogic restart baÅŸlatÄ±lÄ±yor..."
                
                            withCredentials([sshUserPrivateKey(credentialsId: SSH_CRED_ID, 
                                                               keyFileVariable: 'SSH_KEY', 
                                                               usernameVariable: 'SSH_USER')]) {
                
                                sh """
                                    ssh -i "\$SSH_KEY" -o StrictHostKeyChecking=no \$SSH_USER@${REMOTE_HOST} "
                                        cd /appdata/restartconfig
                                        pwd
                                        sh starter.sh
                                    "
                                """
                            }
                        }
                    }
                }
        }
}